<form id="crearUsuario" autocomplete="off" (ngSubmit)="guardar()" [formGroup]="forma">
   
    <!--Email-->

  <div class="form-group">
      <label for="disabledTextInput">E-mail</label>
      <input type="email" 
             class="form-control" 
             placeholder="E-mail"
             formControlName="email"
             [class.invalid]="!valido('email')"
             >
      <small class="form-text text-danger" *ngIf="!valido('email')">Debe estar rellenado y escrito correctamente</small>
  </div>

    <!--Contraseña-->

  <div class="form-group">
    <label for="disabledSelect">Contraseña</label>
    <input type="password" 
            class="form-control" 
            placeholder="Contraseña"
            formControlName="pass1"
            [class.invalid]="!valido('pass1')"
            >
    <small class="form-text text-danger" *ngIf="!valido('pass1')">Debe estar rellenado y escrito correctamente</small>
  </div>
  <div class="form-group">
    <label for="disabledSelect">Contraseña</label>
    <input type="password" 
           class="form-control" 
           placeholder="Contraseña"
           formControlName="pass2"
           [class.invalid]="!valido('pass2')"
           >
    <small class="form-text text-danger" *ngIf="!valido('pass2')">Debe estar rellenado y escrito correctamente</small>
  </div>

  <!--Nombre-->

  <div class="form-group">
    <label for="inputAddress">Nombre*</label>
    <input class="form-control"
          type="text"
          placeholder="Nombre"
          formControlName="nombre"
          [class.is-invalid]="!valido('nombre')">
      <small class="form-text text-danger" *ngIf="!valido('nombre')">Debe tener al menos 5 carácteres</small>
  </div>

  <!--Apellido-->

  <div class="form-group">
    <label for="inputAddress">Apellido*</label>
    <input class="form-control"
              type="text"
              placeholder="Apellido"
              formControlName="apellido"
              [class.is-invalid]="!valido('apellido')">
      <small class="form-text text-danger" *ngIf="!valido('apellido')">Debe tener al menos 5 carácteres</small>
  </div>

  <!--Nombre de usuario-->

  <div class="form-group">
    <label for="inputAddress">Nombre de usuario*</label>
    <input class="form-control"
            type="text"
            placeholder="Nombre de usuario"
            formControlName="usuario"
            [class.is-invalid]="!valido('usuario')">
      <small class="form-text text-danger" *ngIf="!valido('usuario')">Debe tener al menos 5 carácteres</small>
  </div>

  <!--Direcciones-->

  <div class="form-group">
    <label for="inputAddress">Dirección*</label>
    <input type="text" 
            class="form-control" 
            formControlName="direccion"
            placeholder="Calle inventada, Nº XX"
            [class.is-invalid]="!valido('direccion')">
            <small class="form-text text-danger" *ngIf="!valido('direccion')">Debe rellenarese correctamente el campo</small>
  </div>

  <div class="form-group">
    <label for="inputAddress2">Dirección 2</label>
    <input type="text" 
            class="form-control" 
            id="inputAddress2" 
            placeholder="Calle inventada, Nº XX">
  </div>

  <!--Teléfono-->

  <div class="form-group">
    <label for="inputAddress2">Teléfono*</label>
    <input type="text" 
            class="form-control" 
            formControlName="telefono"
            [class.invalid]="!valido('telefono')">
    <small class="form-text text-danger" *ngIf="!valido('telefono')">Debe completarse el campo teléfono correctamente</small>
  </div>

  <!--Ciudad-->

  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputCity">Ciudad*</label>
      <input type="text" 
              class="form-control" 
              id="inputCity" 
              placeholder="Ciudad"
              name="ciudad"
              ngModel
              [class.invalid]="ciudad.invalid && ciudad.touched"
              #ciudad="ngModel"
              required>
      <small class="form-text text-danger" *ngIf="ciudad.invalid && ciudad.touched">Debe completarse el campo ciudad correctamente</small>
    </div>

    <!--Localidad-->

    <div class="form-group col-md-4">
      <label for="inputState">Localidad*</label>
      <select id="inputState" 
              class="form-control"
              name="localidad"
              required
              [ngModel]="usuario.localidad"
              [disabled]="localidades.length===0"
              #localidad="ngModel">
        <option></option>
        
      </select>
    </div>

    <!--Código postal-->

    <div class="form-group col-md-2">
      <label for="inputZip">Código postal*</label>
      <input type="text" 
              class="form-control" 
              id="inputZip" 
              placeholder="Código postal"
              pattern="((0[1-9]|5[0-2])|[1-4][0-9])[0-9]{3}"
              name="codigo"
              ngModel
              [class.invalid]="codigo.invalid && codigo.touched"
              #codigo="ngModel"
              minlength="5"
              required
              >
      <small class="form-text text-danger" *ngIf="codigo.invalid && codigo.touched">El código postal no es válido</small>
    </div>

    <!--Tarjeta de crédito-->

    <div class="form-group col-md-6">
      <label for="inputZip">Tarjeta de credito</label>
      <input type="text" 
              class="form-control" 
              id="inputZip" 
              placeholder="XXXX-XXXX-XXXX-XXXX"
              pattern="/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13}|6(?:011|5[0-9][0-9])[0-9]{12})$/"
              name="tarjeta"
              ngModel
              [class.invalid]="tarjeta.invalid && tarjeta.touched"
              #tarjeta="ngModel"
              minlength="16"
              required
              >
      <small class="form-text text-danger" *ngIf="tarjeta.invalid && tarjeta.touched">La tarjeta de credito no es válida</small>
    </div>
  </div>
  
  <!--Términos y condiciones-->

  <div class="form-group">
    <div class="form-check">
      <input class="form-check-input" 
              type="checkbox" 
              name="condiciones"
              value="O"
              required
              ngModel 
              #condiciones="ngModel"/>
      <label class="form-check-label" for="gridCheck">
        Confirmar los términos y condiciones.
      </label>
      <small *ngIf="condiciones.invalid && condiciones.touched" class="form-text text-danger">Se deben aceptar los términos y condiciones</small>
    </div>
  </div>
  <input type="button" class="btn btn-outline-primary" name="enviar" value="Registrarse" [routerLink]="['/iniciarSesion']" />
</form>
