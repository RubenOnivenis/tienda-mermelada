<form id="modificarUsuario" autocomplete="off" (ngSubmit)="modificar()" [formGroup]="forma" *ngIf="usuario">
  <div class="row">
    <!--Email-->
    <div class="form-group col-md-6 col-12">
      <label for="disabledTextInput">E-mail</label>
      <input type="email" 
            class="form-control" 
            value="{{usuario.correo}}"
            formControlName="correo"
            placeholder="E-mail"
            [class.is-invalid]="!valido('correo')">
      <small class="form-text text-danger" *ngIf="!valido('correo')">El e-mail no es válido</small>
    </div>
    <!--Nombre de usuario-->
    <div class="form-group col-md-6 col-12">
      <label for="inputAddress">Nombre de usuario</label>
      <input class="form-control"
              type="text"
              value="{{usuario.nombre_usuario}}"
              placeholder="Nombre de usuario"
              formControlName="nombre_usuario"
              [class.is-invalid]="!valido('nombre_usuario')">
        <small class="form-text text-danger" *ngIf="!valido('nombre_usuario')">Debe tener al menos 5 carácteres</small>
    </div>
    <!--Nombre-->
    <div class="form-group col-md-6 col-12">
      <label for="inputAddress">Nombre</label>
      <input class="form-control"
            type="text"
            value="{{usuario.nombre}}"
            placeholder="Nombre"
            formControlName="nombre"
            [class.is-invalid]="!valido('nombre')">
        <small class="form-text text-danger" *ngIf="!valido('nombre')">Debe tener al menos 3 carácteres</small>
    </div>
    <!--Apellidos-->
    <div class="form-group col-md-6 col-12">
      <label for="inputAddress">Apellidos</label>
      <input class="form-control"
            type="text"
            value="{{usuario.apellidos}}"
            placeholder="Apellidos"
            formControlName="apellido"
            [class.is-invalid]="!valido('apellido')">
        <small class="form-text text-danger" *ngIf="!valido('apellido')">Debe tener al menos 5 carácteres</small>
    </div>
    <!--Contraseñas-->
    <div class="form-group col-md-6 col-12">
      <label for="disabledSelect">Contraseña nueva</label>
      <input type="password" 
            class="form-control" 
            placeholder="Contraseña"
            formControlName="pass">
      <small class="form-text text-danger" *ngIf="!valido('pass')">Debe tener más de 5 carácteres</small>
    </div>
    <div class="form-group col-md-6 col-12">
      <label for="disabledSelect">Repetir contraseña nueva</label>
      <input type="password" 
            class="form-control" 
            placeholder="Repetir contraseña"
            formControlName="pass2"
            [class.is-invalid]="!valido('pass2')">
      <small class="form-text text-danger" *ngIf="!pass2Valido">Las contraseñas deben ser iguales</small>
    </div>
  </div>
  <!--Vivienda-->
  <div class="row" formGroupName="vivienda">
    <!--Domicilio-->
    <div class="form-group col-md-6 col-12">
      <label for="inputAddress">Dirección</label>
      <input type="text" 
            value="{{usuario.domicilio}}"
            class="form-control"
            formControlName="direccion" 
            placeholder="Dirección">
    </div>
    <!--Localidad-->
    <div class="form-group col-md-6 col-12">
      <label for="inputCity">Localidad</label>
      <input type="text" 
            class="form-control" 
            id="inputCity" 
            value="{{usuario.localidad}}"
            formControlName="ciudad"
            placeholder="Ciudad, municipio, pueblo...">
    </div>
    <!--Provincia-->
    <div class="form-group col-md-6 col-12">
      <label for="inputState">Provincia</label>
      <select id="inputState" 
              class="form-control"
              name="localidad">
        <option *ngFor="let localidad of localidades.facet_groups[1].facets; let i = index" value="{{i}}" [disabled] = 'i==0'>{{localidad.name}}</option>
      </select>
    </div>
    <!--Código postal-->
    <div class="form-group col-md-6 col-12">
      <label for="inputZip">Código postal</label>
      <input type="text" 
              class="form-control"  
              placeholder="Código postal"
              value="{{usuario.cod_postal}}"
              formControlName="cod_postal"
              [class.is-invalid]="!valido('vivienda.cod_postal')">
      <small class="form-text text-danger" *ngIf="!valido('vivienda.cod_postal')">El código postal no es válido</small>
    </div>
    <!--Domicilio 2º-->
    <div class="form-group col-md-6 col-12">
      <label for="inputAddress2">Dirección 2º</label>
      <input type="text" 
              class="form-control" 
              id="inputAddress2" 
              value="{{usuario.domicilio_2}}"
              formControlName="direccion2"
              placeholder="Dirección">
    </div>
    <!--Localidad 2º-->
    <div class="form-group col-md-6 col-12">
      <label for="inputCity">Ciudad 2º</label>
      <input type="text" 
              class="form-control" 
              id="inputCity" 
              value="{{usuario.localidad_2}}"
              formControlName="ciudad2"
              placeholder="Ciudad, municipio, pueblo...">
    </div>
    <!--Provincia 2º-->
    <div class="form-group col-md-6 col-12">
      <label for="inputState">Localidad 2º</label>
      <select id="inputState" 
              class="form-control"
              name="localidad2">
        <option *ngFor="let localidad2 of localidades.facet_groups[1].facets; let i = index" value="{{i}}" [disabled] = 'i==0'>{{localidad2.name}}</option>
      </select>
    </div>
    <!--Código postal 2º-->
    <div class="form-group col-md-6 col-12">
      <label for="inputZip">Código postal 2º</label>
      <input type="text" 
              class="form-control"  
              placeholder="Código postal"
              value="{{usuario.cod_postal_2}}"
              formControlName="cod_postal2"
              [class.is-invalid]="!valido('vivienda.cod_postal2')">
      <small class="form-text text-danger" *ngIf="!valido('vivienda.cod_postal2')">El código postal no es válido</small>
    </div>
  </div>
  <div class="row">
    <!--Teléfono-->
    <div class="form-group col-md-6 col-12">
      <label for="inputAddress2">Teléfono</label>
      <input type="text" 
              class="form-control" 
              formControlName="telefono"
              placeholder="Teléfono"
              value="{{usuario.telefono}}"
              [class.is-invalid]="!valido('telefono')">
      <small class="form-text text-danger" *ngIf="!valido('telefono')">El teléfono no es válido</small>
    </div>
    <!--Tarjeta de crédito-->
    <div class="form-group col-md-6 col-12">
      <label for="inputZip">Tarjeta de crédito</label>
      <input type="text" 
              class="form-control" 
              placeholder="Tarjeta de crédito"
              formControlName="tarjeta"
              value="{{usuario.tarjeta_credito}}"
              [class.is-invalid]="!valido('tarjeta')">
      <small class="form-text text-danger" *ngIf="!valido('tarjeta')">La tarjeta de credito no es válida</small>
    </div>
  </div>
</form>